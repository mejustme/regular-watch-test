<html>
<head>
</head>
<style>
    .out-box{
        margin: 50px;
    }
    h1{
        margin-top: 40px !important;
    }
    h4{
        display: inline-block;
    }
    strong{
        color: red;
    }
    .woman , .man {
        display: inline-block;
    }
    body{
        font-size: 18px;
    }
    input{
        font-size: 16px !important;
    }
    .tips{
        display: inline;
    }
    img{
        width: 900px;
    }
    .img2{
        width: 700px;
        margin-top: 20px;
        display: block;
    }
    .fp-tableCell{
        vertical-align: top !important;
    }
    .f-inline-block{
        display: inline-block;
    }
    #j-ui-parent{
        height: 380px;
    }
</style>
<link rel="stylesheet" href="./bower_components/bootstrap/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="./bower_components/fullpage.js/jquery.fullPage.css">
<body>
    <div class="out-box" id="fullpage">
        <div class="section">
            <div id="j-ui-parent" ></div>
            <img src="http://nos.netease.com/edu-image/EE1E1F0C15DB4A89B47B7F04FEEDCB06.jpg" alt="参数对照">
            <div class="last-tips">
                <strong>注意：</strong><span>isolate参数本身不支持动态修改，因为已经在编译阶段进行了不同方式的watch绑定，这里每次我让子UI重新渲染的</span>
            </div>
        </div>
        <div class="section">
            <div>
                <h3 class="f-inline-block"><strong>启示：</strong></h3>

                <h4>
                    基于Redux的单向数据流，组件嵌套，属性参数一定要加上isolate="1"，脏检查性能<strong>提高n倍</strong>
                </h4>
                <img class="img2" src="http://nos.netease.com/edu-image/577FC53AC11D5EA6CE04BCA4F1ED75A3.jpg" alt="脏检查">
            </div>
        </div>
    </div>
</body>

<script type="text/plain" id="j-world-tpl">
    <div class="world">
        <h1>小区 UI</h1>
        <form class="form-inline">
            <div class="form-group">
                  <label>总人数:</label>
                  <input type="text" class="form-control"   r-model={totalPerson}/>
                   <label>男孩人数:</label>
                  <input type="text" class="form-control"   r-model={totalMan}/>
                   <label>女孩人数:</label>
                  <input type="text" class="form-control"   r-model={totalWoman}/>
            </div>
          <h1>男孩 UI</h1>
            <div class="form-group isolate">
                <strong>isolate值:</strong>
                <input type="text" class="form-control" r-model={isolateMan}>
            </div>

           {#if isolateMan == 0}
                 <man manCount={totalMan} isolate={isolateMan}></man>
           {#elseif isolateMan == 1}
                 <man manCount={totalMan} isolate={isolateMan}></man>
           {#elseif isolateMan == 2}
                 <man manCount={totalMan} isolate={isolateMan}></man>
           {#elseif isolateMan == 3}
                  <man manCount={totalMan} isolate={isolateMan}></man>
           {#else}

                 <h2 class="tips"> 请输出正确的isolate值，否则情况不一定</h2>
            {/if}
            <h1>女孩UI</h1>
            <div class="form-group isolate">
                <strong>isolate值:</strong>
                <input type="text" class="form-control" r-model={isolateWoman}>
            </div>

           {#if isolateWoman == 0}
                 <woman  womanCount={totalWoman} isolate={isolateWoman}></woman>
           {#elseif isolateWoman == 1}
                 <woman womanCount={totalWoman} isolate={isolateWoman}></woman>
           {#elseif isolateWoman == 2}
                 <woman womanCount={totalWoman} isolate={isolateWoman}></woman>
           {#elseif isolateWoman == 3}
                  <woman womanCount={totalWoman} isolate={isolateWoman}></woman>
           {#else}

                 <h2 class="tips"> 请输出正确的isolate值，否则情况不一定</h2>
            {/if}
        </form>
    </div>
</script>

<script type="text/plain" id="j-man-tpl">
   <div class="man">
          <div class="form-group">
                <label>男孩人数:</label>
                <input type="text" class="form-control" r-model={manCount}>
          </div>
          <div class="form-group">
               <label>生男孩:</label>
                <input type="text" class="form-control" r-model={moreChild}>
          </div>
          <button class="btn btn-default btn-success" on-click={this.haveBaby(moreChild)}>点击出生</button>

    </div>
</script>
<script type="text/plain" id="j-woman-tpl">
    <div class="woman">
        <div class="form-group">
            <label>女孩人数:</label>
            <input type="text" class="form-control" r-model={womanCount}>
        </div>
        <div class="form-group">
           <label>生女孩:</label>
            <input type="text" class="form-control" r-model={moreChild}>
        </div>
        <button class="btn btn-default btn-success" on-click={this.haveBaby(moreChild)}>点击出生</button>
    </div>
</script>
<script src="./bower_components/jquery/dist/jquery.min.js"></script>
<script src="bower_components/fullpage.js/jquery.fullPage.js"></script>
<script src="./bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="http://cst.stu.126.net/u/js/cms/regular-0.4.3.min.js"></script>
<script src="./src/js/index.js"></script>
</html>